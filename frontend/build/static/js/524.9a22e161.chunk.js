"use strict";(self.webpackChunkorderpls=self.webpackChunkorderpls||[]).push([[524],{5042:(e,t,a)=>{a.d(t,{i:()=>n});a(5043);const n=()=>{return function(n){if(!0===n.validate.mandatory){let e=function(e){let t={};""===e.inputvalue?(t.controlid=e.csstheme.id,t.errmsg="This field is mandatory",t.founderror=!0,t.arrayindex=e.arrayindex):""===e.inputkey?(t.controlid=e.csstheme.id,t.errmsg="Invalid Selection",t.founderror=!0,t.arrayindex=e.arrayindex):(t.controlid=e.csstheme.id,t.errmsg="",t.founderror=!1,t.arrayindex=e.arrayindex);return t}(n);if(!0===e.founderror)return e}return function(n){let r={};if(""!=n.inputvalue)switch(n.validate.datatype){case"email":null===a(n.inputvalue)&&(r.controlid=n.csstheme.id,r.errmsg="No Valid Email address entered",r.founderror=!0,r.arrayindex=n.arrayindex);break;case"phoneno":let d=e(n.inputvalue),u=function(e){let t=!0;""===e&&(t=!1);return t}(n.inputkey);!1===d?(r.controlid=n.csstheme.id,r.errmsg="Invalid Phone no entered",r.founderror=!0,r.arrayindex=n.arrayindex):!1===u&&(r.controlid=n.csstheme.id,r.errmsg="Phone Code doesn't been empty",r.founderror=!0,r.arrayindex=n.arrayindex);break;case"numeric":!1===(c=n.inputvalue,!isNaN(parseFloat(c))&&isFinite(c))&&(r.controlid=n.csstheme.id,r.errmsg="Accepts Only Numeric Field",r.founderror=!0,r.arrayindex=n.arrayindex);break;case"loginid":!1===function(n){return r=n,/^\d+$/.test(r)?e(n):!!a(n)||!!t(n);var r}(n.inputvalue)&&(r.controlid=n.csstheme.id,r.errmsg="Invalid Field entered",r.founderror=!0,r.arrayindex=n.arrayindex);break;case"aadharno":!1===(o=n.inputvalue,/^\d{12}$/.test(o))&&(r.controlid=n.csstheme.id,r.errmsg="Invalid Aadhar no",r.founderror=!0,r.arrayindex=n.arrayindex);break;case"alpha":!1===(i=n.inputvalue,/^[A-Za-z\ ]+$/.test(i))&&(r.controlid=n.csstheme.id,r.errmsg="Invalid field Only Alphabet",r.founderror=!0,r.arrayindex=n.arrayindex);break;case"alphanumeric":!1===(l=n.inputvalue,/^[0-9a-zA-Z\ ]+$/.test(l))&&(r.controlid=n.csstheme.id,r.errmsg="Invalid field Only AlphaNumeric",r.founderror=!0,r.arrayindex=n.arrayindex);break;case"dropdown":!1===function(e){let t=!0;""===e&&(t=!1);return t}(n.inputvalue)&&(r.controlid=n.csstheme.id,r.errmsg="Invalid Selection",r.founderror=!0,r.arrayindex=n.arrayindex);break;case"username":!1===t(n.inputvalue)&&(r.controlid=n.csstheme.id,r.errmsg="Invalid Syntax only (@ and _ )",r.founderror=!0,r.arrayindex=n.arrayindex);break;case"hotelcode":!1===(s=n.inputvalue,/^\d{9}$/.test(s))&&(r.controlid=n.csstheme.id,r.errmsg="Invalid offer ID",r.founderror=!0,r.arrayindex=n.arrayindex);break;case"searchBox":!1===function(e){let t=e.dropdownlist.filter((t=>t.m_value===e.inputvalue)),a=!0;0===t.length&&(a=!1);return a}(n)&&(r.controlid=n.csstheme.id,r.errmsg="Not in Menu",r.founderror=!0,r.arrayindex=n.arrayindex);break;default:r.controlid=n.csstheme.id,r.errmsg="",r.founderror=!1,r.arrayindex=n.arrayindex}var s;var l;var i;var o;var c;return r}(n)};function e(e){return/^\d{10}$/.test(e)}function t(e){return/^[a-zA-Z0-9\_\@]+$/.test(e)}function a(e){return e.toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}}},4301:(e,t,a)=>{a.d(t,{z:()=>r});a(5043);var n=a(579);const r=e=>{let{groupBtnName:t,groupBtnData:a,handleGroupButtonClick:r}=e;return(0,n.jsx)("div",{className:"tasks-activity tasks collapse show",children:(0,n.jsx)("ul",{className:"row",children:a.map(((e,a)=>e.showbutton&&(0,n.jsx)("li",{className:"d-flex flex-column col-xxl-2 col-xl-3 col-md-4 col-sm-6 ",style:{padding:"12px"},children:(0,n.jsxs)("button",{className:"grpbtn btn2lnk",onClick:e=>{r(t,a)},children:[(0,n.jsx)("div",{className:"grpbtn-text-content",children:(0,n.jsx)("p",{style:{color:"#595757"},children:e.labelname})}),(0,n.jsxs)("div",{className:"grpbtn-bottom-content",children:[(0,n.jsxs)("div",{className:"d-flex",style:{gap:"5px"},children:["open"===e.status&&(0,n.jsxs)("span",{className:"grpbtn-single-seats",children:[e.maxseats,(0,n.jsx)("i",{className:"ti ti-user-filled",style:{color:"#228B22",fontSize:"1.2em"}})," "]}),"open"!==e.status&&(0,n.jsxs)("span",{className:"grpbtn-single-seats",children:[e.maxseats,(0,n.jsx)("i",{className:"ti ti-user-filled",style:{color:"#DC143C",fontSize:"1.2em"}})," "]}),(0,n.jsxs)("span",{className:"grpbtn-group-seats",children:["open"===e.status&&Array.from({length:e.maxseats}).map(((e,t)=>(0,n.jsx)("i",{className:"ti ti-user-filled soft-success",style:{color:"#228B22",fontSize:"1.2em"}},t))),"open"!==e.status&&Array.from({length:e.maxseats}).map(((e,t)=>(0,n.jsx)("i",{className:"ti ti-user-filled ",style:{color:"#DC143C",fontSize:"1.2em"}},t)))]})]}),(0,n.jsxs)("div",{children:["open"===e.status&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("i",{className:"fa-solid fa-lock-open fa-bounce mr-5-im"}),"Open..."]}),"process"===e.status&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("i",{className:"fas fa-spinner fa-spin me-2 mr-5-im"}),"Process..."]}),"close"===e.status&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("i",{className:"fa-solid fa-lock fa-shake mr-5-im"}),"Close..."]}),"waiting"===e.status&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("i",{className:"fa-solid fa-hourglass-start fa-fade mr-5-im"}),"Waiting..."]}),"completed"===e.status&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("i",{class:"fa-solid fa-money-bill fa-flip mr-5-im"}),"Completed..."]})]})]})]})},a)))})})}},6604:(e,t,a)=>{a.d(t,{a:()=>l});var n=a(5043),r=(a(6979),a(9555),a(3003)),s=a(579);const l=e=>{let{tablename:t,actionButton:a,tableMetaData:l,colMetaData:i,tableData:o,handleChangeSearch:c,handleTableActionClick:d,handleSort:u,handleKeyDown:m,isTableChanged:h}=e;const[x,p]=(0,n.useState)(null),b=(0,n.useRef)([]),f=(0,r.d4)((e=>e.appstate.login_info));function g(){p(null)}return(0,n.useEffect)((()=>{!function(){if(null!==x){const e=b.current[x].button.getBoundingClientRect(),t=document.getElementById(`optmenu${x}`).getBoundingClientRect(),a=window.innerHeight-e.bottom,n=b.current[x].optionBox;n&&(a<t.height?n.style.top=`-${t.height}px`:n.style.top="33px")}}()}),[x]),(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"row dt-row",children:(0,s.jsx)("div",{className:"col-sm-12 table-responsive",style:{overflowX:"visible"},id:"orderMenu",children:(0,s.jsxs)("table",{className:"table dataTable no-footer",children:[(0,s.jsx)("thead",{className:"thead-light",children:(0,s.jsx)("tr",{children:i.map((e=>(0,s.jsx)("th",{className:"sorting",style:{width:e.h_width},children:e.h_name},e.h_colindex)))})}),(0,s.jsx)("tbody",{children:o.map(((e,n)=>e.showrow&&(0,s.jsxs)("tr",{children:[e.table_value.map(((e,t)=>(0,s.jsxs)("td",{children:[2!==t&&(0,s.jsx)(s.Fragment,{children:e.t_value}),2===t&&(0,s.jsx)("span",{className:"badge "+("New"==e.t_value?"bg-success":"Waiting"===e.t_value?"bg-warning":"Processing"===e.t_value?"bg-secondary":"Completed"===e.t_value?"bg-info":""),children:(0,s.jsx)("span",{className:"badge-label",children:e.t_value})})]},e.t_key))),"server"===f.usertype&&a.hasAction&&(0,s.jsx)("td",{children:(0,s.jsxs)("div",{className:"dropdown table-action ",children:[(0,s.jsx)("button",{className:"action-icon",id:`optbtn${n}`,style:{position:"relative"},ref:e=>{b.current[n]={button:e}},onClick:()=>{!function(e){p(e)}(n)},onBlur:g,children:(0,s.jsx)("i",{className:"fa fa-ellipsis-v"})}),x===n&&(0,s.jsxs)("ul",{style:{position:"absolute",zIndex:1e3,right:"45px"},ref:e=>b.current[n].optionBox=e,id:`optmenu${n}`,className:" dropdown-menu dropdown-menu-right show",children:[a.canEditRow&&(0,s.jsxs)("li",{className:"dropdown-item",style:["New","Waiting"].includes(e.table_value[2].t_value)?{}:{cursor:"not-allowed",opacity:"0.7",backgroundColor:"#f0f0f0"},id:e.rowid,onMouseDown:a=>{["New","Waiting"].includes(e.table_value[2].t_value)&&(d(t,n,e.rowmode,1),p(null))},children:[(0,s.jsx)("i",{className:"ti ti-edit text-blue"}),"\xa0Edit"]}),a.canDeleteRow&&(0,s.jsxs)("li",{className:"dropdown-item",style:["New","Waiting"].includes(e.table_value[2].t_value)?{}:{cursor:"not-allowed",opacity:"0.7",backgroundColor:"#f0f0f0"},id:e.rowid,onMouseDown:a=>{["New","Waiting"].includes(e.table_value[2].t_value)&&(d(t,n,e.rowmode,2),p(null))},children:[(0,s.jsx)("i",{className:"ti ti-trash text-danger"}),"\xa0Delete"]})]})]})})]},`list ${n}`)))})]})})})})}},524:(e,t,a)=>{a.r(t),a.d(t,{OPChefOrderCompleted:()=>m});var n=a(5043),r=a(5042),s=a(8831),l=a(4301),i=a(8136),o=a(6604),c=a(2104),d=a(3003),u=a(579);const m=()=>{const[e,t]=(0,n.useState)(!1),[a,m]=(0,n.useState)(!0),[h,x]=(0,n.useState)(!1),[p,b]=(0,n.useState)(!1),f=(0,n.useRef)([]),g=(0,n.useRef)({}),v=(0,n.useRef)([]),y=(0,n.useRef)([]),j=(0,n.useRef)(null),N=((0,r.i)(),(0,d.d4)((e=>e.appstate.login_info)));function w(e){f.current=[{arrayindex:0,csstheme:{labletext:"",classname:"btn-close custom-btn-close border p-1 me-0 d-flex align-items-center justify-content-center rounded-circle",id:"btn_cross",icon:"ti ti-x"}},{arrayindex:1,csstheme:{labletext:" Completed",classname:"btn btn-primary",id:"btn_completed"}},{arrayindex:2,csstheme:{labletext:"Cancel",classname:"btn btn-light me-2",id:"btn_cancel"}}],_(e.hotelBench),function(){let e={tablename:"tbl_orderlist",grpbtnrowid:null,grpbtnindex:null,tableindex:null,actionButton:{hasAction:!0,hasStatus:!0,canEditRow:!0,canDeleteRow:!0},tableMetaData:{showPagination:!1,showSearch:!1},colMetaData:[{h_colindex:0,h_name:"Orders",h_width:"200px",h_txtalign:"left",h_navigate:"/home"},{h_colindex:1,h_name:"Qty",h_width:"100px",h_txtalign:"left",h_navigate:"/home"},{h_colindex:2,h_name:"Sts",h_width:"100px",h_txtalign:"left",h_navigate:"/home"}],tableData:[]};v.current=e}(),t(!0),m(!1)}function _(e){y.current=e;let t={groupbtnname:"beanchlst",groupbtnselectedname:null,groupbtndata:e.filter((e=>"process"==e.status))};g.current=t}function k(e){switch(e.currentTarget.id){case"btn_cross":case"blurdiv":case"btn_cancel":document.body.style="",x(!1);break;case"btn_completed":!function(){const e=v.current.grpbtnrowid,t=v.current.tableData.map((e=>({showrow:e.showrow,table_value:[{t_key:0,t_value:e.table_value[0].t_value},{t_key:1,t_value:e.table_value[1].t_value},{t_key:2,t_value:"New"===e.table_value[2].t_value?"Processing":"Completed"}]}))),a=N.companyName;j.current.emit("updateChefOrderCompleted",e,t,a),document.body.style="",x(!1)}()}}return(0,n.useEffect)((()=>(j.current=(0,c.io)("https://orderpls.onrender.com"),j.current.emit("joinChefOrderCompleted",N.companyName),j.current.on("sendChefrOrderCompleted",(e=>{w(e)})),j.current.on("documentUpdated",((e,t,a)=>{const n=y.current.findIndex((t=>t._id===e)),r=y.current.filter((t=>t._id===e));r[0].status=a,r[0].btn_values=t;y.current.splice(n,1,r[0]);_(y.current),b((e=>!e))})),()=>{j.current&&j.current.disconnect()})),[]),(0,u.jsxs)(u.Fragment,{children:[a&&(0,u.jsx)(s.z,{}),e&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"page-wrapper",children:(0,u.jsx)("div",{className:"content",children:(0,u.jsx)("div",{className:"row",children:(0,u.jsxs)("div",{className:"col-md-12",children:[(0,u.jsx)("div",{className:"page-header",children:(0,u.jsxs)("div",{className:"row align-items-center",children:[(0,u.jsx)("div",{className:"col-sm-4",children:(0,u.jsx)("h4",{className:"page-title",children:"Order Placing"})}),(0,u.jsx)("div",{className:"col-sm-8 text-sm-end",children:(0,u.jsx)("div",{className:"head-icons"})})]})}),(0,u.jsx)("div",{className:"row",children:(0,u.jsx)("div",{className:"col-lg-12",children:(0,u.jsx)("div",{className:"card",children:(0,u.jsxs)("div",{className:"card-body",id:"card-body",children:[(0,u.jsxs)("div",{className:"border-bottom mb-3 pb-3",children:[(0,u.jsx)("h5",{className:"fw-semibold mb-1",children:"Bench's"}),(0,u.jsx)("p",{children:"Select the Bench that you want to place the order"})]}),(0,u.jsx)(l.z,{groupBtnName:g.current.groupbtnname,groupBtnData:g.current.groupbtndata,handleGroupButtonClick:function(e,t){if("beanchlst"===e){document.body.style.overflow="hidden";const e=structuredClone(g.current.groupbtndata[t].btn_values);g.current.groupbtnselectedname=g.current.groupbtndata[t].labelname,v.current.grpbtnrowid=g.current.groupbtndata[t]._id,v.current.grpbtnindex=t,v.current.tableData=e}x(!0)}})]})})})})]})})})}),(0,u.jsx)("div",{className:"offcanvas offcanvas-end offcanvas-large "+(h?"show":"hiding"),children:h&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"offcanvas-header border-bottom",children:[(0,u.jsx)("h4",{children:g.current.groupbtnselectedname}),(0,u.jsx)(i.G,{ctl_Attribute:f.current[0],handleButtonClick:k})]}),(0,u.jsxs)("div",{className:"offcanvas-body",children:[(0,u.jsx)("h4",{children:"Order"}),(0,u.jsx)(o.a,{tablename:v.current.tablename,actionButton:v.current.actionButton,tableMetaData:v.current.tableMetaData,colMetaData:v.current.colMetaData,tableData:v.current.tableData,handleTableActionClick:function(e,t,a,n){e}}),(0,u.jsxs)("div",{className:"mt-4 d-flex justify-content-end",children:[(0,u.jsx)(i.G,{ctl_Attribute:f.current[2],handleButtonClick:k}),(0,u.jsx)(i.G,{ctl_Attribute:f.current[1],handleButtonClick:k})]})]})]})}),h&&(0,u.jsx)("div",{className:"offcanvas-backdrop fade show",id:"blurdiv",onClick:k})]})]})}},6979:()=>{}}]);
//# sourceMappingURL=524.9a22e161.chunk.js.map