"use strict";(self.webpackChunkorderpls=self.webpackChunkorderpls||[]).push([[726],{6016:(e,t,a)=>{a.d(t,{C:()=>n});var l=a(5043),s=(a(6979),a(9555),a(579));const n=e=>{let{tablename:t,actionButton:a,tableMetaData:n,colMetaData:r,tableData:i,handleChangeSearch:c,handleClickTable:d,handleSort:o,handleKeyDown:h,isTableChanged:m}=e;const[u,b]=(0,l.useState)(null),x=(0,l.useRef)([]);return(0,l.useEffect)((()=>{!function(){if(null!==u){const e=x.current[u].button.getBoundingClientRect(),t=document.getElementById(`optmenu${u}`).getBoundingClientRect(),a=window.innerHeight-e.bottom,l=x.current[u].optionBox;l&&(a<t.height?l.style.top=`-${t.height}px`:l.style.top="33px")}}()}),[u]),(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"row dt-row",children:(0,s.jsx)("div",{className:"col-sm-12 table-responsive",style:{overflowX:"visible"},id:"orderMenu",children:(0,s.jsxs)("table",{className:"table dataTable no-footer",children:[(0,s.jsx)("thead",{className:"thead-light",children:(0,s.jsx)("tr",{children:r.map((e=>(0,s.jsx)("th",{className:"sorting",style:{width:e.h_width},children:e.h_name},e.h_colindex)))})}),(0,s.jsx)("tbody",{children:i.map(((e,t)=>e.showrow&&(0,s.jsx)("tr",{onClick:e=>d(t),children:e.table_value.map(((e,t)=>(0,s.jsxs)("td",{children:[1!==t&&(0,s.jsx)(s.Fragment,{children:e.t_value}),1===t&&(0,s.jsx)(s.Fragment,{children:"Server"===e.t_value||"Chef"===e.t_value||"Casher"===e.t_value?(0,s.jsx)("span",{className:"badge "+("Server"===e.t_value?"bg-success":"Chef"===e.t_value?"bg-blue text-white":"Casher"===e.t_value?"bg-secondary":""),children:(0,s.jsx)("span",{className:"badge-label",children:e.t_value})}):(0,s.jsx)(s.Fragment,{children:e.t_value})})]},e.t_key)))},`list${t}`)))})]})})})})}},5345:(e,t,a)=>{a.r(t),a.d(t,{OPViewMenuCard:()=>u});var l=a(5043),s=a(5042),n=a(8831),r=a(8136),i=a(3003),c=a(2079),d=a(2571),o=a(6016),h=a(3542),m=a(579);const u=()=>{const[e,t]=(0,l.useState)(!0),[a,u]=(0,l.useState)(!1),[b,x]=(0,l.useState)(!0),[p,v]=(0,l.useState)(!0),[j,g]=(0,l.useState)(!1),[_,f]=(0,l.useState)(!0),[N,y]=(0,l.useState)(!1),w=(0,l.useRef)([]),D=(0,l.useRef)({}),S=(0,l.useRef)({}),C=((0,s.i)(),(0,i.d4)((e=>e.appstate.login_info))),{responseData:M,isLoadingApi:k,apiKey:E,fetchError:T,serverRequest:P}=(0,c.A)();function B(){if(M.isAuth){let e=[{arrayindex:0,csstheme:{labletext:"Menu List",classname:"form-control",id:"txt_hotelname",length:20,readonly:!1,hinttext:"Enter your Hotel Name "},inputvalue:"",tooltip:{place:"bottom",classname:"tooltip-react",isfocus:"",errorshow:"",isvalidation:!1},validate:{mandatory:!0,datatype:"alpha"},error:{errorshow:!1,errormsg:"The field is mandatory"}},{arrayindex:1,csstheme:{labletext:"Price",classname:"form-control",id:"txt_Price",length:20,readonly:!1,hinttext:"Enter the menu price "},inputvalue:"",tooltip:{place:"bottom",classname:"tooltip-react",isfocus:"",errorshow:"",isvalidation:!1},validate:{mandatory:!0,datatype:"numeric"},error:{errorshow:!1,errormsg:"The field is mandatory"}},{arrayindex:2,csstheme:{labletext:"Cancel",classname:"btn btn-light me-2",id:"btn_cancel"}},{arrayindex:3,csstheme:{labletext:"Delete",classname:"btn btn-primary",id:"btn_delete"}}];w.current=e,function(e){let t={tablename:"tbl_orderlist",tableindex:null,tabledataid:null,tableMetaData:{showPagination:!1,showSearch:!1},colMetaData:[{h_colindex:0,h_name:"Item's",h_width:"150px",h_txtalign:"left",h_navigate:"/home"},{h_colindex:1,h_name:"Price",h_width:"43px",h_txtalign:"left",h_navigate:"/home"}],tableData:e.map((e=>({_id:e._id,showrow:!0,table_value:[{t_key:0,t_value:e.menuItem},{t_key:1,t_value:e.price}]})))};S.current=t}(M.errormsg),u(!0),x(!1)}else console.log(M.errormsg)}function A(e){switch(e.currentTarget.id){case"btn_cancel":f(!0),y(!1);break;case"btn_delete":!function(){S.current.tableData.splice(S.current.tableindex,1);let e={_id:S.current.tabledataid},t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),apiUrl:"/api/v1/deletemenu",apikey:"DELMENU"};P(t)}()}}return(0,l.useEffect)((()=>{if(!0===e)!function(){let e={companyName:C.companyName},a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),apiUrl:"/api/v1/viewmenu",apikey:"VIEWMENU"};P(a),t(!1)}();else if(k)switch(E){case"DELMENU":M.isAuth&&(D.current={name:"Menu Deleted Successfully",title:M.errormsg.menuItem,photo:"success"},y(!1),f(!0),g(!0));break;case"VIEWMENU":B()}}),[e,k]),(0,l.useEffect)((()=>{if(j){const e=setInterval((()=>{g(!1)}),2e3);return()=>clearInterval(e)}}),[j]),(0,m.jsxs)(m.Fragment,{children:[b&&(0,m.jsx)(n.z,{}),a&&(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{className:"page-wrapper",children:[(0,m.jsx)(d.D,{nameProps:D.current.name,titleProps:D.current.title,photoProps:D.current.photo,bool:j}),(0,m.jsx)("div",{className:"content",children:(0,m.jsx)("div",{className:"row",children:(0,m.jsxs)("div",{className:"col-md-12",children:[(0,m.jsx)("div",{className:"page-header",children:(0,m.jsxs)("div",{className:"row align-items-center",children:[(0,m.jsx)("div",{className:"col-sm-4",children:(0,m.jsx)("h4",{className:"page-title",children:"View Menu list"})}),(0,m.jsx)("div",{className:"col-sm-8 text-sm-end",children:(0,m.jsx)("div",{className:"head-icons"})})]})}),_&&(0,m.jsx)("div",{className:"row",children:(0,m.jsx)("div",{className:"col-lg-12",children:(0,m.jsx)("div",{className:"card",children:(0,m.jsxs)("div",{className:"card-body",children:[(0,m.jsxs)("div",{className:"border-bottom mb-3 pb-3",children:[(0,m.jsx)("h5",{className:"fw-semibold mb-1",children:"View Menu's"}),(0,m.jsx)("p",{children:"Showing menu list"})]}),(0,m.jsx)(o.C,{tablename:S.current.tablename,actionButton:S.current.actionButton,tableMetaData:S.current.tableMetaData,colMetaData:S.current.colMetaData,tableData:S.current.tableData,handleClickTable:function(e){const t=S.current.tableData[e];S.current.tableindex=e,S.current.tabledataid=t._id,w.current[0].inputvalue=t.table_value[0].t_value,w.current[1].inputvalue=t.table_value[1].t_value,f(!1),y(!0)}})]})})})}),N&&(0,m.jsx)("div",{className:"row",children:(0,m.jsx)("div",{className:"col-lg-12",children:(0,m.jsx)("div",{className:"card",children:(0,m.jsxs)("div",{className:"card-body",children:[(0,m.jsxs)("div",{className:"border-bottom mb-3 pb-3",children:[(0,m.jsx)("h5",{className:"fw-semibold mb-1",children:"Menu Details"}),(0,m.jsx)("p",{children:"Showing Menu Details in ReadOnly Method"})]}),(0,m.jsx)("div",{className:"border-bottom mb-3",children:(0,m.jsxs)("div",{className:"row",children:[(0,m.jsx)("div",{className:"col-md-6",children:(0,m.jsx)("div",{className:"mb-3",children:(0,m.jsx)(h.S,{ctl_Attribute:w.current[0],rerender:p})})}),(0,m.jsx)("div",{className:"col-md-6",children:(0,m.jsx)("div",{className:"mb-3",children:(0,m.jsx)(h.S,{ctl_Attribute:w.current[1],rerender:p})})})]})}),(0,m.jsxs)("div",{className:"mt-4 d-flex justify-content-end",children:[(0,m.jsx)(r.G,{ctl_Attribute:w.current[2],handleButtonClick:A}),(0,m.jsx)(r.G,{ctl_Attribute:w.current[3],handleButtonClick:A})]})]})})})})]})})})]})})]})}},6979:()=>{}}]);
//# sourceMappingURL=726.dfc385dc.chunk.js.map