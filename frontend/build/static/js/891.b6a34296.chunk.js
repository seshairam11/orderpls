"use strict";(self.webpackChunkorderpls=self.webpackChunkorderpls||[]).push([[891],{9205:(e,t,a)=>{a.d(t,{R:()=>i});var r=a(5043),l=a(5042),s=a(9532),n=a(579);const i=e=>{let{ctl_Attribute:t,rerender:a}=e;const[i,o]=(0,r.useState)(!1);(0,r.useEffect)((()=>{}),[a]);const c=(0,l.i)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("label",{htmlFor:t.csstheme.id,className:"col-form-label ",children:[t.csstheme.labletext,t.validate.mandatory?(0,n.jsx)("span",{className:"text-danger",children:"\xa0*"}):null]}),(0,n.jsxs)("select",{ref:e=>{t.tooltip.isfocus=e,t.tooltip.errorshow=e},className:`${t.csstheme.classname} ${t.error.errorshow?"err-border":""}`,"data-tooltip-content":t.error.errorshow?t.error.errormsg:t.csstheme.hinttext,"data-tooltip-id":t.csstheme.id,"data-tooltip-place":t.tooltip.place,"data-tooltip-class-name":t.tooltip.classname,disabled:t.csstheme.readonly,value:t.inputvalue,onBlur:function(e){t.inputvalue=e.currentTarget.value,t.tooltip.isvalidation=!1;let a=c(t);1==a.founderror&&(t.error.errormsg=a.errmsg,t.error.errorshow=!0,e.currentTarget.setCustomValidity(a.errmsg)),o(!i)},onFocus:e=>{e.currentTarget.setCustomValidity(""),t.tooltip.isvalidation=!0,o(!i)},onChange:e=>{t.error.errorshow=!1,t.inputvalue=e.currentTarget.value,o(!i)},id:t.csstheme.id,children:[(0,n.jsx)("option",{id:"dd-Option",value:"",children:"Select"},"000"),t.dropdata.map(((e,t)=>(0,n.jsx)("option",{id:`dd-Option ${t}`,value:e.keylistvalue,children:e.keylistvalue},t))),";"]}),(0,n.jsx)(s.m_,{id:t.csstheme.id,isOpen:t.tooltip.isvalidation})]})}},6016:(e,t,a)=>{a.d(t,{C:()=>s});var r=a(5043),l=(a(6979),a(9555),a(579));const s=e=>{let{tablename:t,actionButton:a,tableMetaData:s,colMetaData:n,tableData:i,handleChangeSearch:o,handleClickTable:c,handleSort:d,handleKeyDown:m,isTableChanged:h}=e;const[u,p]=(0,r.useState)(null),x=(0,r.useRef)([]);return(0,r.useEffect)((()=>{!function(){if(null!==u){const e=x.current[u].button.getBoundingClientRect(),t=document.getElementById(`optmenu${u}`).getBoundingClientRect(),a=window.innerHeight-e.bottom,r=x.current[u].optionBox;r&&(a<t.height?r.style.top=`-${t.height}px`:r.style.top="33px")}}()}),[u]),(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"row dt-row",children:(0,l.jsx)("div",{className:"col-sm-12 table-responsive",style:{overflowX:"visible"},id:"orderMenu",children:(0,l.jsxs)("table",{className:"table dataTable no-footer",children:[(0,l.jsx)("thead",{className:"thead-light",children:(0,l.jsx)("tr",{children:n.map((e=>(0,l.jsx)("th",{className:"sorting",style:{width:e.h_width},children:e.h_name},e.h_colindex)))})}),(0,l.jsx)("tbody",{children:i.map(((e,t)=>e.showrow&&(0,l.jsx)("tr",{onClick:e=>c(t),children:e.table_value.map(((e,t)=>(0,l.jsxs)("td",{children:[1!==t&&(0,l.jsx)(l.Fragment,{children:e.t_value}),1===t&&(0,l.jsx)(l.Fragment,{children:"Server"===e.t_value||"Chef"===e.t_value||"Casher"===e.t_value?(0,l.jsx)("span",{className:"badge "+("Server"===e.t_value?"bg-success":"Chef"===e.t_value?"bg-blue text-white":"Casher"===e.t_value?"bg-secondary":""),children:(0,l.jsx)("span",{className:"badge-label",children:e.t_value})}):(0,l.jsx)(l.Fragment,{children:e.t_value})})]},e.t_key)))},`list${t}`)))})]})})})})}},3891:(e,t,a)=>{a.r(t),a.d(t,{OPViewEmployees:()=>p});var r=a(5043),l=a(5042),s=a(8831),n=a(8136),i=a(3003),o=a(2079),c=a(2571),d=a(6016),m=a(3542),h=a(9205),u=a(579);const p=()=>{const[e,t]=(0,r.useState)(!0),[a,p]=(0,r.useState)(!1),[x,v]=(0,r.useState)(!0),[b,y]=(0,r.useState)(!0),[g,_]=(0,r.useState)(!1),[j,f]=(0,r.useState)(!0),[w,N]=(0,r.useState)(!1),E=(0,r.useRef)([]),C=(0,r.useRef)({}),S=(0,r.useRef)({}),k=((0,l.i)(),(0,i.d4)((e=>e.appstate.login_info))),{responseData:D,isLoadingApi:T,apiKey:P,fetchError:M,serverRequest:A}=(0,o.A)();function B(){if(D.isAuth){let e=[{arrayindex:0,csstheme:{labletext:"User Name",classname:"form-control",id:"txt_username",length:20,readonly:!0,hinttext:"Enter the Employee User name "},inputvalue:"",tooltip:{place:"bottom",classname:"tooltip-react",isfocus:"",errorshow:"",isvalidation:!1},validate:{mandatory:!0,datatype:"username"},error:{errorshow:!1,errormsg:"The field is mandatory"}},{arrayindex:1,csstheme:{labletext:"Email",classname:"form-control",id:"txt_emailid",length:20,readonly:!0,hinttext:"Enter the Employee Email Id"},inputvalue:"",tooltip:{place:"bottom",classname:"tooltip-react",isfocus:"",errorshow:"",isvalidation:!1},validate:{mandatory:!0,datatype:"email"},error:{errorshow:!1,errormsg:"The field is mandatory"}},{arrayindex:2,csstheme:{labletext:"Phone no",classname:"form-control",id:"num_phoneno",length:10,readonly:!0,hinttext:"Enter your Phone Number"},inputvalue:"",tooltip:{place:"bottom",classname:"tooltip-react",isfocus:"",errorshow:"",isvalidation:!1},validate:{mandatory:!0,datatype:"phoneno"},error:{errorshow:!1,errormsg:"The field is mandatory"}},{arrayindex:3,csstheme:{labletext:"Employee Types",classname:"form-control",id:"sel_Employeetypes",readonly:!0,hinttext:"Select the usertype for Employee"},inputvalue:"",tooltip:{place:"right",classname:"tooltip-react",isfocus:"",errorshow:"",isvalidation:!1},validate:{mandatory:!0,datatype:"dropdown"},error:{errorshow:!1,errormsg:"The field is mandatory"},dropdata:[{keylistid:"11000",keylistvalue:"Server"},{keylistid:"11001",keylistvalue:"Chef"},{keylistid:"11002",keylistvalue:"Casher"}]},{arrayindex:4,csstheme:{labletext:"Password",classname:"form-control",id:"text-email",length:50,readonly:!0,hinttext:"Enter the Employee Password"},inputvalue:"",tooltip:{place:"bottom",classname:"tooltip-react",isfocus:"",errorshow:"",isvalidation:!1},validate:{mandatory:!0,datatype:"text"},error:{errorshow:!1,errormsg:"The field is mandatory"}},{arrayindex:5,csstheme:{labletext:"Confirm Password",classname:"form-control",id:"text-confirmpassword",length:50,readonly:!0,hinttext:"Enter the Employee Confirm Password"},inputvalue:"",tooltip:{place:"bottom",classname:"tooltip-react",isfocus:"",errorshow:"",isvalidation:!1},validate:{mandatory:!0,datatype:"dropdown"},error:{errorshow:!1,errormsg:"The field is mandatory"}},{arrayindex:6,csstheme:{labletext:"Save Changes",classname:"btn btn-primary me-2",id:"btn_savechange"}},{arrayindex:7,csstheme:{labletext:"Edit",classname:"btn btn-secondary me-2",id:"btn_edit"}},{arrayindex:8,csstheme:{labletext:"Delete",classname:"btn btn-primary me-2",id:"btn_delete"}},{arrayindex:9,csstheme:{labletext:"Cancel",classname:"btn btn-light me-2",id:"btn_cancel"}}];E.current=e,function(e){let t={tablename:"tbl_orderlist",tableindex:null,tabledataid:null,tableMetaData:{showPagination:!1,showSearch:!1},colMetaData:[{h_colindex:0,h_name:"Employee's",h_width:"150px",h_txtalign:"left",h_navigate:"/home"},{h_colindex:1,h_name:"User Type",h_width:"43px",h_txtalign:"left",h_navigate:"/home"},{h_colindex:2,h_name:"Mail",h_width:"100px",h_txtalign:"left",h_navigate:"/home"},{h_colindex:3,h_name:"Phone",h_width:"100px",h_txtalign:"left",h_navigate:"/home"}],tableData:e.map((e=>({rowid:e._id,showrow:!0,table_value:[{t_key:0,t_value:e.userName.charAt(0).toUpperCase()+e.userName.slice(1)},{t_key:1,t_value:e.employeeType},{t_key:2,t_value:e.mailID},{t_key:3,t_value:e.phone}]})))};S.current=t}(D.errormsg),p(!0),v(!1)}else console.log(D.errormsg)}function R(e){switch(e.currentTarget.id){case"btn_cancel":f(!0),N(!1);break;case"btn_delete":!function(){S.current.tableData.splice(S.current.tableindex,1);let e={_id:S.current.tabledataid},t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),apiUrl:"/api/v1/deleteemployees",apikey:"DELEMP"};A(t)}()}}return(0,r.useEffect)((()=>{if(!0===e)!function(){let e={companyName:k.companyName},a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),apiUrl:"/api/v1/viewemployees",apikey:"VIEWEMP"};A(a),t(!1)}();else if(T)switch(console.log(P),P){case"DELEMP":D.isAuth&&(C.current={name:"Employee Deleted Successfully",title:D.errormsg.userName,photo:"success"},N(!1),f(!0),_(!0),_(!0));break;case"VIEWEMP":B()}}),[e,T]),(0,r.useEffect)((()=>{if(g){const e=setInterval((()=>{_(!1)}),2e3);return()=>clearInterval(e)}}),[g]),(0,u.jsxs)(u.Fragment,{children:[x&&(0,u.jsx)(s.z,{}),a&&(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:"page-wrapper",children:[(0,u.jsx)(c.D,{nameProps:C.current.name,titleProps:C.current.title,photoProps:C.current.photo,bool:g}),(0,u.jsx)("div",{className:"content",children:(0,u.jsx)("div",{className:"row",children:(0,u.jsxs)("div",{className:"col-md-12",children:[(0,u.jsx)("div",{className:"page-header",children:(0,u.jsxs)("div",{className:"row align-items-center",children:[(0,u.jsx)("div",{className:"col-sm-4",children:(0,u.jsx)("h4",{className:"page-title",children:"View Employee's"})}),(0,u.jsx)("div",{className:"col-sm-8 text-sm-end",children:(0,u.jsx)("div",{className:"head-icons"})})]})}),j&&(0,u.jsx)("div",{className:"row",children:(0,u.jsx)("div",{className:"col-lg-12",children:(0,u.jsx)("div",{className:"card",children:(0,u.jsxs)("div",{className:"card-body",children:[(0,u.jsxs)("div",{className:"border-bottom mb-3 pb-3",children:[(0,u.jsx)("h5",{className:"fw-semibold mb-1",children:"View Employee's"}),(0,u.jsx)("p",{children:"Showing your Employees"})]}),(0,u.jsx)(d.C,{tablename:S.current.tablename,actionButton:S.current.actionButton,tableMetaData:S.current.tableMetaData,colMetaData:S.current.colMetaData,tableData:S.current.tableData,handleClickTable:function(e){const t=S.current.tableData[e];S.current.tableindex=e,S.current.tabledataid=t.rowid,E.current[0].inputvalue=t.table_value[0].t_value,E.current[1].inputvalue=t.table_value[2].t_value,E.current[2].inputvalue=t.table_value[3].t_value,E.current[3].inputvalue=t.table_value[1].t_value,f(!1),N(!0)}})]})})})}),w&&(0,u.jsx)("div",{className:"row",children:(0,u.jsx)("div",{className:"col-lg-12",children:(0,u.jsx)("div",{className:"card",children:(0,u.jsxs)("div",{className:"card-body",children:[(0,u.jsxs)("div",{className:"border-bottom mb-3 pb-3",children:[(0,u.jsx)("h5",{className:"fw-semibold mb-1",children:"Employee User Details"}),(0,u.jsx)("p",{children:"Showing User Details in ReadOnly Method"})]}),(0,u.jsxs)("div",{className:"border-bottom mb-3",children:[(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-md-6",children:(0,u.jsx)("div",{className:"mb-3",children:(0,u.jsx)(m.S,{ctl_Attribute:E.current[0],rerender:b})})}),(0,u.jsx)("div",{className:"col-md-6",children:(0,u.jsx)("div",{className:"mb-3",children:(0,u.jsx)(m.S,{ctl_Attribute:E.current[1],rerender:b})})})]}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-md-6",children:(0,u.jsx)("div",{className:"mb-3",children:(0,u.jsx)(m.S,{ctl_Attribute:E.current[2],rerender:b})})}),(0,u.jsx)("div",{className:"col-md-6",children:(0,u.jsx)("div",{className:"mb-3",children:(0,u.jsx)(h.R,{ctl_Attribute:E.current[3],rerender:b})})})]})]}),(0,u.jsxs)("div",{className:"mt-4 d-flex justify-content-end",children:[(0,u.jsx)(n.G,{ctl_Attribute:E.current[9],handleButtonClick:R}),(0,u.jsx)(n.G,{ctl_Attribute:E.current[8],handleButtonClick:R})]})]})})})})]})})})]})})]})}},6979:()=>{}}]);
//# sourceMappingURL=891.b6a34296.chunk.js.map